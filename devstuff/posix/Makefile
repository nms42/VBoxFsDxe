VSRC	= ../..
PSRC	= ../src

SRCS	= ${MAIN} \
		${PSRC}/tstmain.c \
		${PSRC}/fsw_posix.c \
		\
		${VSRC}/fsw_core.c \
		${VSRC}/fsw_lib.c \
		${VSRC}/fsw_hfs.c

CFLAGS	= \
	-DHOST_POSIX \
	-DFSTYPE=hfs \
	-DVBOXHFS_BTREE_BINSEARCH \
	-DFSW_DEBUG_LEVEL=3 \
	-DITERATIONS=1 \
	-DFSW_DNODE_CACHE_SIZE=7 \
	-DO_BINARY=0 \


hfstest:	${SRCS}
	${CC} -g -Wall -I${PSRC} -I${VSRC} ${CFLAGS} ${SRCS}

clean:
	/bin/rm -fr a.out* *.plist *.o *.gmon

cppcheck:
	cppcheck --enable=all --inconclusive --std=posix -I/usr/include -D__x86_64__ -I${PSRC} -I${VSRC} ${CFLAGS} ${SRCS}
